# Style Guide: CapsWriter-Offline GUI 配置工具

## 1. 主题系统

### 1.1 主题配置

| 属性 | 值 |
|------|------|
| **默认主题** | Light (浅色) |
| **可选主题** | Dark (深色) |
| **切换位置** | 窗口右上角 ☀️/🌙 图标 |
| **持久化** | 保存到 config.json |

### 1.2 主题切换组件

```python
# 主题变量
THEMES = {
    "light": "litera",   # ttkbootstrap 浅色主题
    "dark": "darkly"     # ttkbootstrap 深色主题
}
DEFAULT_THEME = "light"
```

---

## 2. 颜色系统

### 2.1 浅色主题 (Light) - **默认** 🌞

> 灵感来源: Apple macOS Big Sur / Windows 11 Mica

| 用途 | 颜色名 | Hex | 说明 |
|------|--------|-----|------|
| **背景-主** | 纯白 | `#FFFFFF` | 窗口主背景 |
| **背景-卡片** | 浅灰白 | `#F5F5F7` | 分组框/面板背景 |
| **背景-输入** | 白色 | `#FFFFFF` | 输入框背景 |
| **背景-表格行-奇** | 白色 | `#FFFFFF` | 表格奇数行 |
| **背景-表格行-偶** | 微灰 | `#FAFAFA` | 表格偶数行 |
| **边框** | 浅灰 | `#E5E5E5` | 分组框、输入框边框 |
| **前景-主** | 深黑 | `#1D1D1F` | 主要文字 |
| **前景-次** | 中灰 | `#86868B` | 次要文字、说明 |
| **强调-主** | 苹果蓝 | `#007AFF` | 按钮、选中状态、链接 |
| **强调-悬浮** | 亮蓝 | `#0A84FF` | 悬浮效果 |
| **强调-按下** | 深蓝 | `#0056B3` | 按下状态 |
| **成功** | 苹果绿 | `#34C759` | 成功状态、完成、开关 |
| **警告** | 苹果橙 | `#FF9500` | 警告状态 |
| **危险** | 苹果红 | `#FF3B30` | 错误、删除 |
| **录音** | 亮红 | `#FF3B30` | 录音指示灯 |

### 2.2 深色主题 (Dark) 🌙

> 灵感来源: macOS Dark Mode / Windows 11 Dark

| 用途 | 颜色名 | Hex | 说明 |
|------|--------|-----|------|
| **背景-主** | 深灰 | `#1C1C1E` | 窗口主背景 |
| **背景-卡片** | 中灰 | `#2C2C2E` | 分组框/面板背景 |
| **背景-输入** | 暗灰 | `#1C1C1E` | 输入框背景 |
| **背景-表格行-奇** | 深灰 | `#2C2C2E` | 表格奇数行 |
| **背景-表格行-偶** | 暗灰 | `#1C1C1E` | 表格偶数行 |
| **边框** | 暗边框 | `#3A3A3C` | 分组框、输入框边框 |
| **前景-主** | 白色 | `#FFFFFF` | 主要文字 |
| **前景-次** | 灰白 | `#8E8E93` | 次要文字、说明 |
| **强调-主** | 亮蓝 | `#0A84FF` | 按钮、选中状态 |
| **强调-悬浮** | 浅蓝 | `#409CFF` | 悬浮效果 |
| **强调-按下** | 深蓝 | `#0056B3` | 按下状态 |
| **成功** | 亮绿 | `#30D158` | 成功状态、完成 |
| **警告** | 亮橙 | `#FF9F0A` | 警告状态 |
| **危险** | 亮红 | `#FF453A` | 错误、删除 |
| **录音** | 红点 | `#FF453A` | 录音指示灯 |

### 2.3 主题对比速查

| 元素 | Light | Dark |
|------|-------|------|
| 窗口背景 | `#FFFFFF` | `#1C1C1E` |
| 卡片背景 | `#F5F5F7` | `#2C2C2E` |
| 主要文字 | `#1D1D1F` | `#FFFFFF` |
| 次要文字 | `#86868B` | `#8E8E93` |
| 边框 | `#E5E5E5` | `#3A3A3C` |
| 强调色 | `#007AFF` | `#0A84FF` |

---

## 2. 字体系统

### 字体族优先级

```python
FONT_FAMILY = "Microsoft YaHei UI, Segoe UI, Arial, sans-serif"
FONT_FAMILY_MONO = "Consolas, Microsoft YaHei UI, monospace"
```

### 字体大小

| 级别 | 大小 | 用途 |
|------|------|------|
| **XL** | 16px | 窗口标题 |
| **L** | 14px | 分组标题 |
| **M** | 12px | 正文、按钮 |
| **S** | 11px | 辅助说明 |
| **XS** | 10px | 工具提示 |

### 字体样式

| 样式 | 用途 |
|------|------|
| **Bold** | 标题、按钮 |
| **Regular** | 正文 |
| **Light** | 辅助说明 |

---

## 3. 间距系统

### 基础单位

- **基础单位**: 4px
- **常用间距**: 4, 8, 12, 16, 24, 32px

### 应用规则

| 元素 | 内边距 | 外边距 |
|------|--------|--------|
| **窗口** | 16px | - |
| **分组框** | 12px | 8px bottom |
| **输入框** | 8px 12px | 4px |
| **按钮** | 8px 16px | 8px |
| **表格单元格** | 4px 8px | - |

---

## 4. 圆角系统

| 元素 | 圆角 |
|------|------|
| **窗口** | 8px (仅悬浮窗) |
| **分组框** | 6px |
| **按钮** | 4px |
| **输入框** | 4px |
| **悬浮窗** | 12px |

---

## 5. 阴影系统

| 级别 | 阴影 | 用途 |
|------|------|------|
| **无** | none | 嵌入元素 |
| **低** | `0 1px 3px rgba(0,0,0,0.2)` | 按钮 |
| **中** | `0 4px 12px rgba(0,0,0,0.3)` | 悬浮窗 |

---

## 6. 组件规范

### 6.1 分组框 (LabelFrame)

```
┌─ 🎙️ ASR 模型设置 ──────────────────────────┐
│                                            │
│   内容区域                                  │
│   padding: 12px                            │
│                                            │
└────────────────────────────────────────────┘
```

- 标题带 emoji 图标
- 边框颜色: `#444444`
- 标题字体: Bold, 14px

### 6.2 单选按钮组

```
○ 选项A (说明文字)
● 选项B (说明文字)  ← 选中状态
○  选项C (说明文字)
```

- 垂直排列，间距 8px
- 选中圆点颜色: 强调色
- 说明文字颜色: 次要前景色

### 6.3 表格 (Treeview)

| 列 | 宽度 | 对齐 |
|----|------|------|
| 按键 | 100px | 左 |
| 类型 | 80px | 中 |
| 模式 | 80px | 中 |
| 角色 | 100px | 左 |
| 启用 | 60px | 中 |

- 奇偶行交替背景色
- 选中行高亮: 强调色 20% 透明度
- 表头: Bold, 背景 `#333333`

### 6.4 按钮

| 类型 | 样式 |
|------|------|
| **主要** | 强调色背景，白色文字 |
| **次要** | 透明背景，边框，强调色文字 |
| **危险** | 危险色背景，白色文字 |

### 6.5 悬浮状态窗

```
┌────────────────────────────┐
│  🎙️ 正在录音...    2.5s    │
└────────────────────────────┘
```

- 尺寸: 200-250px × 50-60px
- 背景: `rgba(30, 30, 30, 0.85)`
- 圆角: 12px
- 阴影: 中等
- 动画: 淡入淡出 200ms

---

## 7. 状态指示

### 7.1 录音状态

| 元素 | 视觉 |
|------|------|
| 指示灯 | 红色圆点，闪烁 (500ms 周期) |
| 图标 | 🎙️ |
| 时长 | 实时更新，右对齐 |

### 7.2 识别状态

| 元素 | 视觉 |
|------|------|
| 图标 | ⏳ |
| 加载 | 旋转动画或脉动效果 |

### 7.3 完成状态

| 元素 | 视觉 |
|------|------|
| 图标 | ✅ |
| 预览 | 识别结果前 20 字符 |
| 背景 | 略带绿色调 |

---

## 8. 响应式行为

### 窗口尺寸

| 项目 | 值 |
|------|------|
| **最小宽度** | 500px |
| **最小高度** | 600px |
| **推荐尺寸** | 600px × 700px |
| **最大宽度** | 800px |

### 布局规则

- 分组框垂直堆叠
- 表格水平填充
- 底部按钮区固定高度
